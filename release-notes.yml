highlights:
  - Zephyr tree from 1.10 development tree, with LWM2M support,
    support for 96Boards Carbon, and libraries for managing interactions
    with MCUBoot
  - MCUBoot version 1.0.0
  - New application for IoT Foundry demonstrating LWM2M
  - Many other bug fixes and improvements across the trees
summary: |
 This release includes MCUBoot version 1.0.0, and a Zephyr tree that
 is based on 1.10. It also includes a new IoT Foundry application.

 The Zephyr tree includes many new features and bug fixes. Notable
 improvements for the Zephyr microPlatform include LWM2M protocol
 support, mainline support for 96Boards Carbon networking, DTLS
 support for the net_app library, and various Bluetooth and networking
 fixes.

 A new IoT Foundry application was added for a demonstration system
 providing firmware update and device communication via LWM2M.
parts:
  - name: Zephyr microPlatform
    summary: |
      MCUBoot version 1.0.0 was declared, and is included in this
      release.

      A new end-to-end IoT system based on the LWM2M protocol has been
      added, along with an updated Zephyr tree, which provides
      protocol support along with many other feature additions and
      improvements.

      Networking Support for 96Boards Carbon (which is supported on a
      best-effort basis by the microPlatform) was merged into the
      Zephyr mainline.

      This Zephyr release includes several significant API breaks due
      to refactoring and renaming. These are present in the features
      list below, alongside legitimate feature additions.
    projects:
      - name: MCUBoot
        manifest_project: mcuboot
        features:
          - heading: New header format
            summary: |
              For the 1.0 release, MCUBoot has received a new image
              header format.

              The most important change from version 0.9 is a new
              header format, in which all signature information is
              moved from the header into the block of key/value TLVs
              which follow the image, in a new format. This allows
              supporting multiple signatures, changing the signature
              without changing the image, and other feature
              improvements. See docs/release-notes.md for more
              details.

              Since this is a breaking change, the magic number for
              the image header is now different, along with other
              incompatible image format changes. Tooling and build
              systems which rely on imgtool.py should not need any
              changes beyond a re-build; other build flows may require
              additional changes.
          - heading: Zephyr release test improvements
            summary: |
              The MCUBoot build system was made more configurable;
              more of the behavior of the bootloader can be configured
              by passing arguments to make. Compile-time configurable
              behavior includes the signature type, whether the image
              at slot 0 is validated at every boot, and whether the
              "overwrite only" upgrade method is used instead of the
              default swapping method.

              The release test suite has been updated to take
              advantage of this; the test scripts now invoke make with
              different configurations, rather than applying different
              patches to the build system to generate builds with
              different configurations.
          - heading: Tinycrypt version 0.2.6 imported
            summary: |
              MCUBoot has imported the Tinycrypt version 0.2.6 source
              code into the tree, and uses it directly. This is
              because Zephyr has moved to version 0.2.7, which
              introduces incompatible API changes which other
              platforms do not yet support. The Tinycrypt sources use
              both 3-clause and 2-clause BSD-style licenses.
          - heading: PKCSv1.5 removal
            summary: |
              The obsolete PKCSv1.5 signature format option has been
              removed.
          - heading: License cleanups
            summary: |
              A LICENSE file was added, which contains the Apache
              license v2.
          - heading: Support for additional boards
            summary: |
              Zephyr board support was added for Hexiwear K64,
              nrf52_blenano2, and the nRF51 and nRF52832 development
              kits from Nordic Semiconductors.
          - heading: Design document improvements.
            summary: |
              The design document has been significantly re-worked,
              with various fixes and improvements.
          - heading: Improved Zephyr sample applications.
            summary: |
              The Zephyr sample applications have been reduced to a
              single application, which can be built for multiple
              boards.
        bug_fixes:
          - heading: Build system fixes to remain in boot partition
            summary: |
              The build system has been fixed so that the MCUBoot
              image is checked to fit within the boot partition at
              build time.
      - name: Zephyr
        manifest_project: zephyr
        features:
          - heading: Bluetooth configuration namespace renamed
            summary: |
              In a breaking API change, upstream has changed the
              Bluetooth Kconfig namespace from CONFIG_BLUETOOTH_* to
              CONFIG_BT_*. All applications which use Bluetooth, along
              with any out of tree patches, will need updates.
              Bluetooth Controller Kconfig options were also renamed
              from CONFIG_BT_CONTROLLER_* to CONFIG_BT_CTLR_*. A small
              set of other Bluetooth fixes and improvements were also
              merged.
          - heading: LWM2M protocol support
            summary: |
              Zephyr support for the Lightweight Machine to Machine
              (LWM2M) protocol, provided and maintained by the Linaro
              Technologies Division, was merged into the Zephyr
              mainline, and has seen significant cleanup and testing
              since its initial merge in the 1.9 development
              cycle. It includes IPSO Light Control object support.

              A fully documented sample application named lwm2m_client
              was merged.
          - heading: k_poll() allows multiple threads to poll
            summary: |
              struct k_poll was updated to allow multiple threads to
              use the same poll object.
          - heading: x86 support for kernel/userspace separation
            summary: |
              Userspace APIs were added to support kernel/user mode
              (supported for x86).
          - heading: DFU support for MCUBoot
            summary: |
              DFU module was added to support building Zephyr with
              MCUBoot.
          - heading: DTS for Quark SE C1000
            summary: |
              The Quark SE C1000 SoC received DTS support.
          - heading: USB serial for x86
            summary: |
              Serial over USB support was added for X86.
          - heading: sa_family field added to struct sockaddr
            summary: |
              POSIX compatibility patch caused changes across the
              entire network subsystem by renaming the family field in
              sockaddr to sa_family.
          - heading: ARC memory protection
            summary: |
              The ARC architecture added MPU and stack guard support.
          - heading: Crypto library updates
            summary: |
              TinyCrypt was updated to version 0.2.7, and received
              some coverty adjustments.  Due to a security advisory
              released on August 28th 2017, mbedTLS was updated to
              2.6.0.  An mbedTLS shim layer was added which is
              compliant with Zephyr crypto APIs.
          - heading: MQTT conversion to net_app API
            summary: |
              The MQTT networking library was converted to use the
              net_app API. This improves its behavior at the cost of
              API breakage.
          - heading: MQTT TLS support
            summary: |
              TLS support was added to MQTT library.
          - heading: DTLS support for net_app
            summary: |
              DTLS support added to net_app library.
          - heading: Bluetooth network support for net_app
            summary: |
              Generic bluetooth network support
              (CONFIG_NET_APP_BLUETOOTH_NODE) was added to the net_app
              library, and enabled for many samples.
          - heading: Project configuration unification
            summary: |
              Many board-specific network sample prj.conf files were
              unified into single prj.conf files, along with other
              clean-ups.
          - heading: Test case conversion to ztest
            summary: |
              Many test files were converted to use the ztest API.
              This makes test case result parsing more uniform.
          - heading: Test case filtering improvements
            summary: |
              Various improvements to test case filtering for
              continuous integration were merged, including better
              specification of minimum RAM requirements.
          - heading: TCP receive window management
            summary: |
              Initial support for TCP receive window management was
              merged.
          - heading: STM32 improvements
            summary: |
              The STM32 pinmux driver was completely re-worked. The
              new version will better support Device Tree, though full
              DT integration is ongoing work.

              Support was added for the TIM3 peripheral.

              Support for the STM32F417 and STM32F405 SoCs was merged,
              along with fixes and improvements to the STM32 pinmux
              drivers.
          - heading: OpenOCD symbol generation
            summary: |
              Zephyr builds now include OpenOCD symbols.
          - heading: Initial POSIX thread support
            summary: |
              Support for POSIX thread IPC, partially implementing the
              IEEE 1003.1 pthread API, was merged.
          - heading: Bluetooth HCI SPI slave application
            summary: |
              A Bluetooth HCI SPI handler sample application was merged.
              This sample is compatible with the Zephyr HCI SPI
              protocol and enables Bluetooth connectivity on 96Boards
              Carbon via the nrf51 SoC (96b_carbon_nrf51).
          - heading: Bluetooth support for more boards
            summary: |
              Bluetooth support for 96Boards Carbon and
              disco_l475_iot1 was merged.
          - heading: Updated TI CC22xx support.
            summary: |
              TI CC3200 SoC and LaunchXL board support removed in
              favor of CC3220SF LaunchXL.

              TI SimpleLink SDK host driver for CC3220SF was merged,
              and is enabled by default on CC3220SF_LaunchXL. This
              enables WiFi support via an external coprocessor.
          - heading: Flash partitions for nrf52_blenano2
            summary: |
              Flash partitions added for nrf52_blenano2, making it
              compatible with FOTA via MCUBoot and dual partitions.
          - heading: Flash layout API
            summary: |
              New flash driver API to query flash layout (supported on
              nRF5 and STM32).
          - heading: I2S driver support
            summary: |
              A new driver API and infrastructure for the I2S (Inter-IC
              Sound) protocol was merged.
          - heading: ESP32 drivers
            summary: |
              Driver support for ESP32-based targets continues to
              increase, with the merging of random number generator,
              GPIO, serial, watchdog, and pinmux drivers.
          - heading: Improved board support
            summary: |
              Board support was added for the STM32F429I-DISC1,
              olimex_stm32_p405, and STM32F412G-DISCO boards. Board
              support for the hexiwear_k64 was extended to support
              additional existing sample applications. Support for
              12C_2 was added for 96b_carbon.
          - heading: New PWM driver for NXP SoCs
            summary: |
              Support for a new mcux-based driver was merged for
              various NXP SoCs and boards.
          - heading: ARM vector table relocation
            summary: |
              Support for relocating the vector table on the ARM
              architecture was merged.
          - heading: ARM stack macros
            summary: |
              Improved support for architecture-specific stack
              management macros was merged for ARM targets.
          - heading: ARC updates
            summary: |
              Nested interrupt support was added to the ARC
              architecture. Various fixes, cleanups, and SoC vendor
              library updates were also merged for ARC.
          - heading: net_app gateway and netmask
            summary: |
              Users of the net app framework can now set IPv4 Netmask
              and Gateway via 2 new Kconfig settings:
              CONFIG_NET_APP_MY_IPV4_NETMASK and
              CONFIG_NET_APP_MY_IPV4_GW.
          - heading: Simplified documentation hierarchy
            summary: |
              Zephyr documentation saw a series of patches moving
              content around into more simplified groupings.
        bug_fixes:
          - heading: Networking fixes
            summary: |
              The network application (net-app) framework received
              some bugfixes.  Many of them involve trying to build
              with various combinations of CONFIG options and
              IPv4/IPv6. A patch preventing unaligned access was
              added, as well as re-initialization of connection
              structures after a disconnect.  A regression bugfix for
              using POST method with the HTTP client was also merged.
          - heading: JSON fixes
            summary: |
              JSON library received some bug fixes and compiler
              warning cleanup.
          - heading: k_timer_start() fix for zero parameter
            summary: |
              k_timer_start() was fixed to accept a zero
              parameter. This expires the timer as soon as possible.
          - heading: Boot banner fix
            summary: |
              The boot banner now prints before any other messages at
              the application log level.
          - heading: Bluetooth conformance fixes
            summary: |
              Bluetooth controller and mesh changes to related to
              conformance and qualification testing were merged.
          - heading: Bluetooth RTC fix
            summary: |
              The Bluetooth subsystem saw a bluetooth regression fix
              (cb90fbe Bluetooth: controller: Fix controller assert at
              clock rollover) which reverts the clock rollover
              calculation back to its original form.  This seems to
              have fixed the crashes observed in the Bluetooth
              controller on nRFxx.
          - heading: Bluetooth buffer fixes
            summary: |
              The default setting and range of BT_RX_STACK_SIZE was
              fixed when checking if BT_HCI_RAW was selected.
          - heading: TI SimpleLink removal
            summary: |
              The TI SimpleLink SDK was removed due to restrictive
              host driver source licensing.
          - heading: Bluetooth Mesh fixes
            summary: |
              Several fixes were merged improving Bluetooth mesh support.
          - heading: 802.15.4 fixes
            summary: |
              Various fixes were merged for the IEEE 802.15.4 radio layer.
          - heading: RPL fixes
            summary: |
              Various fixes were merged for the RPL routing protocol.
          - heading: TCP fixes
            summary: |
              Various fixes were merged for the TCP protocol.
          - heading: HTTP fixes
            summary: |
              Various fixes were merged for the HTTP protocol.
          - heading: Work queue fixes
            summary: |
              Support to remove elements from k_queue added via
              k_queue_remove. The Work queue implementation migrated from
              k_fifo to k_queue as it now offers a more flexible API.
          - heading: STM32 DTS and driver fixes
            summary: |
              Bug fixes for DTS and I2C on STM32 targets were merged.
              Several bug fixes to the STM32 SPI drivers were merged.
          - heading: ESP32 clock fix
            summary: |
              A clock-related fix to the ESP32 architecture was merged.
          - heading: Memory management and protection fixes
            summary: |
              Various MPU related fixes were merged for the ARM
              architecture, and a bug fix was merged on the X86
              architecture related to MMU management.
          - heading: XTensa fixes
            summary: |
              A bug fix related to using the newlib C library on the
              XTensa architecture was merged. The interrupt management
              on that architecture was converted to use the Zephyr
              script gen_isr_table for generating interrupt tables.
      - name: Zephyr FOTA Samples
        manifest_project: zephyr-fota-samples
        features:
          - heading: dm-hawkbit-mqtt
            summary: |
              The MQTT And hawkBit device management application is
              synchronized and tested with the updated Zephyr tree.
          - heading: LWM2M application
            summary: |
              A new application, dm-lwm2m, is provided which
              demonstrates firmware update and device communication
              via LWM2M.
